<div ng-controller="ViewerController">

    <div class="menu-bar">
        <div class="container">
        <div class="grid">

            <div class="col-1-4">
                <a class="rounded-icon" href="#/folders/{{book.folder}}"><i class="fa fa-reply"></i></a>
            </div>

            <div class="text-center col-1-2">
                <span class="label">{{ book.label }} <small>({{ page }} of {{ max
                }})</small></span>
            </div>



            <div class="text-right col-1-4">
                <a class="rounded-icon" ng-if="page > 0"
                    href="#/viewer/{{id}}/{{page-1}}"><i class="fa fa-chevron-left"></i></a>
                <a class="rounded-icon" ng-if="page < max"
                    href="#/viewer/{{id}}/{{page+1}}"><i class="fa fa-chevron-right"></i></a>
            </div>

        </div>
        </div>
    </div>

    <div on-keypress="keypress($event)" on-keyup="keyup($event)" class="container comic-page">
        <a href="#/viewer/{{id}}/{{page+1}}">
            <img style="width: 100%;" ng-src="/api/books/{{id}}/{{page}}"/>
        </a>
        <div style="display: none">
          <!-- prev buffer -->
          <div ng-if="page > 0">
            <img style="width: 100%;" ng-src="/api/books/{{id}}/{{page - 1}}"/>
          </div>
          <!-- next buffer -->
          <div ng-if="page < max">
            <img style="width: 100%;" ng-src="/api/books/{{id}}/{{page + 1}}"/>
          </div>
        </div>
    </div>

</div>
